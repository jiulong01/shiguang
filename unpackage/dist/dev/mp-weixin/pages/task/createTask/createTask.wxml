<view class="container"><view class="header-top"></view><view class="header"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back" bindtap="__e"><view class="iconfont icon-fanhui _i"></view></view><view class="header-title">新建任务</view><view class="header-actions"><text data-event-opts="{{[['tap',[['saveTask',['$event']]]]]}}" class="save-btn" bindtap="__e">保存</text></view></view><view class="task-name"><input class="task-name-input" placeholder="我要..." data-event-opts="{{[['input',[['__set_model',['','taskName','$event',[]]]]]]}}" value="{{taskName}}" bindinput="__e"/></view><view class="function"><view class="function-sparkle"><view class="iconfont icon-sparkles-outline _i"></view></view><view class="function-voice"><view class="iconfont icon-michuatong _i"></view></view></view><view class="content"><textarea class="result" placeholder="语音识别内容" value="{{result}}"></textarea><view class="recogniz"><view style="color:#0000CC;"><text>{{title}}</text></view><view class="partial"><text>{{partialResult}}</text></view><view class="volume" style="{{'width:'+(valueWidth)+';'}}"></view></view><button type="default" data-event-opts="{{[['touchstart',[['startRecognize',['$event']]]],['touchend',[['endRecognize',['$event']]]]]}}" bindtouchstart="__e" bindtouchend="__e">按下开始&松开结束</button></view><view class="recently">最近使用<view class="recently-used"><block wx:for="{{recently}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectRecently',[index]]]]]}}" class="{{['recently-used-options',(selectedRecentlyIndex===index)?'selected':'']}}" bindtap="__e"><view class="{{['_i',item.icon]}}" style="font-size:24rpx;">{{item.name}}</view></view></block></view></view><view class="time-details">时间<view class="chooseDate"><block wx:for="{{['今天','明天','本周','自定义']}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item})}}" class="chooseDate-date" style="{{(selectedDate===item?'background: linear-gradient(to right, #f97316, #fb913b); color: #FFFFFF':'background: #F1F5F9; color: #666666')}}" bindtap="__e">{{''+item+''}}</view></block></view><view class="setTime"><view class="setTime-date"><view class="iconfont icon-rili _i" style="color:#f97316;font-size:56rpx;"></view><view style="width:470rpx;"><block wx:if="{{selectedDate==='自定义'&&multipleDates}}"><view>{{''+($root.g0>2?$root.g1+'...':multipleDates)+''}}</view></block><block wx:else><view>{{''+(selectedDate==="本周"?weekRange:$root.m0)+''}}</view></block></view><view class="index"><wu-calendar class="vue-ref" vue-id="511a3a48-1" itemHeight="{{50}}" color="#f97316" insert="{{false}}" mode="multiple" date="{{[]}}" startDate="{{today}}" lunar="{{true}}" clearDate="{{false}}" maskClick="{{true}}" data-ref="calendar" data-event-opts="{{[['^confirm',[['calendarConfirm']]]]}}" bind:confirm="__e" bind:__l="__l"></wu-calendar><label data-event-opts="{{[['tap',[['openCalendar',['$event']]]]]}}" style="color:#f97316;" bindtap="__e" class="_span">更改</label></view></view><view class="setTime-time"><view class="iconfont icon-shijian _i" style="color:#f97316;font-size:38rpx;margin-left:8rpx;"></view><picker style="width:88%;" mode="time" value="{{time}}" start="00:00" end="24:00" data-event-opts="{{[['change',[['bindTimeChange',['$event']]]]]}}" bindchange="__e"><view class="picker"><view class="uni-input">{{time}}</view><label style="color:#f97316;" class="_span">更改</label></view></picker></view></view><view class="remind"><view class="iconfont icon-shijian _i" style="color:#f97316;font-size:38rpx;"></view><label style="width:500rpx;" class="_span">是否提醒</label><switch style="width:70rpx;transform:scale(0.6);" checked="{{isRemind}}" color="#F97316" data-event-opts="{{[['change',[['e1',['$event']]]]]}}" bindchange="__e"></switch></view><block wx:if="{{isRemind}}"><view class="setTime"><view class="setTime-time"><view class="iconfont icon-shijian _i" style="color:#f97316;font-size:38rpx;margin:8rpx;"></view><picker style="width:88%;" value="{{remindIndex}}" range="{{beforehand}}" range-key="name" data-event-opts="{{[['change',[['bindRemindPickerChange',['$event']]]]]}}" bindchange="__e"><view class="picker"><view>{{''+beforehand[remindIndex].name+''}}</view><label style="color:#f97316;" class="_span">更改</label></view></picker></view><view class="setTime-date"><view class="iconfont icon-rili _i" style="color:#f97316;font-size:56rpx;"></view><picker style="width:88%;" value="{{repeatIndex}}" range="{{repeat}}" range-key="name" data-event-opts="{{[['change',[['bindRepeatPickerChange',['$event']]]]]}}" bindchange="__e"><view class="picker"><label class="_span">重复提醒</label><view>{{''+repeat[repeatIndex].name+''}}</view></view></picker></view></view></block></view><view class="task-categories"><text class="categories-title">分类</text><scroll-view scroll-x="true"><view class="category-icons"><block wx:for="{{categoryColors}}" wx:for-item="color" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectCategory',[index]]]]]}}" class="category-icon" style="{{'background-color:'+(isColor===index?'#F1F5F9':'')+';'}}" bindtap="__e"><view class="category-colors" style="{{'background-color:'+(color.color)+';'}}"><block wx:if="{{isColor==index}}"><view class="color"></view></block></view><view class="category-content">{{''+color.content+''}}</view></view></block><view data-event-opts="{{[['tap',[['addCategory']]]]}}" class="category-icon" bindtap="__e"><view class="category-color" style="border:2rpx solid #ffaa00;">+</view><view class="category-content">新增</view></view></view></scroll-view></view><view class="task-title"><view class="iconfont icon-star task-icons task-title-icons _i"></view>重要程度</view><view class="task-matrix"><block wx:for="{{matrixItems}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectMatrixItem',[index]]]]]}}" class="matrix-item" style="{{'background:'+(item.active?item.color:'#9E9E9E')+';'}}" bindtap="__e"><view class="{{['task-icons','_i',item.icon]}}"></view><text class="matrix-title">{{item.title}}</text><text class="matrix-content">{{item.content}}</text><image class="task-imgs" src="{{item.url}}" mode></image></view></block></view><view class="task-title"><view class="iconfont icon-beizhu task-title-icons _i"></view>备注</view><view class="task-notes"><textarea class="notes-input" placeholder="添加备注……" data-event-opts="{{[['input',[['__set_model',['','taskNotes','$event',[]]]]]]}}" value="{{taskNotes}}" bindinput="__e"></textarea></view><block wx:if="{{$root.g2}}"><view class="task-Standby" id="taskContainer"><view class="radio"><view class="radio-title"><view>子任务</view><view data-event-opts="{{[['tap',[['addSubtasks']]]]}}" class="radio-title-add" bindtap="__e">添加</view></view><block wx:for="{{standbyList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view class="radio-title-radios"><input type="text" placeholder="请输入子任务名称" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],[[['standbyList','id',item.id]]]]]]]}}" value="{{item.content}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['deleteSubtasks',['$0'],[[['standbyList','id',item.id,'id']]]]]]]}}" bindtap="__e"><uni-icons vue-id="{{'511a3a48-2-'+__i0__}}" type="bars" size="50rpx" bind:__l="__l"></uni-icons><uni-icons vue-id="{{'511a3a48-3-'+__i0__}}" type="trash" size="50rpx" bind:__l="__l"></uni-icons></view></view></block></view></view></block><view class="task-title-footer"></view><view class="footer-buttons"><view data-event-opts="{{[['tap',[['addToList',['$event']]]]]}}" class="add-to-list-btn" bindtap="__e"><text>添加子待办</text></view><view data-event-opts="{{[['tap',[['createNow',['$event']]]]]}}" class="create-now-btn" bindtap="__e"><text>立即创建</text></view></view><t-color-picker class="vue-ref" vue-id="511a3a48-4" color="{{color}}" data-ref="colorPicker" data-event-opts="{{[['^confirm',[['confirm']]]]}}" bind:confirm="__e" bind:__l="__l" vue-slots="{{['default']}}"><input type="text"/></t-color-picker><uni-popup class="vue-ref" vue-id="511a3a48-5" background-color="#fff" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-root"><view class="popup-root-top"><view data-event-opts="{{[['tap',[['Cancel',['$event']]]]]}}" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['sure',['$event']]]]]}}" bindtap="__e">确定</view></view><uni-forms class="vue-ref" vue-id="{{('511a3a48-6')+','+('511a3a48-5')}}" rules="{{rules}}" model="{{valiFormData}}" data-ref="valiForm" bind:__l="__l" vue-slots="{{['default']}}"><uni-forms-item vue-id="{{('511a3a48-7')+','+('511a3a48-6')}}" name="Classification" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入分类名称" data-event-opts="{{[['input',[['__set_model',['$0','Classification','$event',[]],['valiFormData']]]]]}}" value="{{valiFormData.Classification}}" bindinput="__e"/></uni-forms-item></uni-forms><scroll-view scroll-x="true"><view class="category-icons"><block wx:for="{{categoryColor}}" wx:for-item="color" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectCategorys',['$0',index],[[['categoryColor','',index]]]]]]]}}" class="category-icon" bindtap="__e"><view class="category-colors" style="{{'background-color:'+(color)+';'}}"><block wx:if="{{isColors===index}}"><view class="color"></view></block></view></view></block><view data-event-opts="{{[['tap',[['open']]]]}}" class="category-icon" bindtap="__e"><view class="categorys-color" style="border:2rpx solid #ffaa00;"><uni-icons style="color:#f97316;" vue-id="{{('511a3a48-8')+','+('511a3a48-5')}}" type="more-filled" size="30" bind:__l="__l"></uni-icons></view></view></view></scroll-view></view></uni-popup></view>